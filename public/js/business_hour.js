(()=>{function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}window.addEventListener("DOMContentLoaded",(function(){document.querySelector(".local-container").classList.remove("hidden"),new t}));var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.loadHolidays();var e=document.querySelectorAll(".time__btn-add");this.setEvent(e,"click",this.addBusinessHour.bind(this),!0);var n=document.querySelectorAll(".time__delete");this.setEvent(n,"click",this.deleteBusinessHour,!0);var i=document.querySelectorAll(".time__btn-holiday");this.setEvent(i,"click",this.clickHolidayBtn.bind(this),!0);var c=document.querySelectorAll(".time__item-hour, .time__item-minute");this.setEvent(c,"change",this.addChangedList,!0),this.hospitalSelect=document.querySelector('select[name="hospital"]'),this.hospitalSelect.addEventListener("change",this.changeHospital.bind(this))}var n,i,c;return n=t,i=[{key:"loadHolidays",value:function(){for(var e=0;e<=6;e++)"0"===document.querySelector('input[name="is_open'.concat(e,'"]')).value&&this.setHoliday(document.querySelector("#btn_holiday".concat(e)).id.slice(-1))}},{key:"addBusinessHour",value:function(e){var t=e.id.slice(-1),n=document.querySelector("#business_hours".concat(t)),i=Number(n.lastElementChild.id.split("-").pop())+1,c="".concat(t,"-").concat(i),o=n.children[0].cloneNode(!0);o.id="business_hour".concat(c);var a=o.querySelector(".time__delete");a.classList.remove("hidden"),a.id="delete".concat(c),this.setEvent(a,"click",this.deleteBusinessHour);var l=o.querySelectorAll(".time__item-hour");this.setSelectElement(l,"hour",c);var u=o.querySelectorAll(".time__item-minute");this.setSelectElement(u,"minute",c);var s=o.querySelector(".business_hour_id");s.name="business_hour_id".concat(c),s.value="",document.querySelector('input[name="added-list"]').value+="".concat(c,","),n.appendChild(o)}},{key:"setSelectElement",value:function(e,t,n){var i=this;e.forEach((function(e){i.changeSelectName(e,e.name.split("_")[0],t,n),e.insertBefore(i.createDefalutOption(),e.firstChild)}))}},{key:"changeSelectName",value:function(e,t,n,i){e.name="".concat(t,"_").concat(n).concat(i)}},{key:"createDefalutOption",value:function(){var e=document.createElement("option");return e.value="default",e.innerText="-",e.selected=!0,e.hidden=!0,e}},{key:"deleteBusinessHour",value:function(e){var t=e.closest(".time__item-business_hours").id.slice(-1),n="".concat(t,"-").concat(e.id.split("-").pop()),i=document.querySelector("#business_hour".concat(n)),c=document.querySelector('input[name="business_hour_id'.concat(n,'"]'));if(""!==c.value)document.querySelector('input[name="deleted-list"]').value+="".concat(c.value,",");else{var o=document.querySelector('input[name="added-list"]');o.value=o.value.replace("".concat(n,","),"")}i.remove()}},{key:"clickHolidayBtn",value:function(e){var t=e.id.slice(-1);this.setHoliday(t);var n=document.querySelector('input[name="is_open'.concat(t,'"]'));"true"===n.value||"1"===n.value?n.value="false":n.value="true"}},{key:"setHoliday",value:function(e){document.querySelector("#business_hours".concat(e)).classList.toggle("none"),document.querySelector("#holiday-".concat(e)).classList.toggle("none"),document.querySelector("#btn_add".concat(e)).classList.toggle("hidden")}},{key:"addChangedList",value:function(e){var t=e.closest(".time__item-business_hours").id.slice(-1),n=document.querySelector('input[name="business_hour_id'.concat(t,"-").concat(e.name.split("-").pop(),'"]')).value,i=document.querySelector('input[name="changed-list"]');""!==i.value&&i.value.split(",").includes(n)||(i.value+="".concat(n,","))}},{key:"changeHospital",value:function(){window.location.href="/business_hour/".concat(this.hospitalSelect.value)}},{key:"setEvent",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i?e.forEach((function(e){return e.addEventListener(t,(function(){return n(e)}))})):e.addEventListener(t,(function(){return n(e)}))}}],i&&e(n.prototype,i),c&&e(n,c),Object.defineProperty(n,"prototype",{writable:!1}),t}()})();